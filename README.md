<strong><p align="center"><code>c</code>ampusphere-<code>e</code>legant-<code>a</code>uth</p></strong>

<p align="center">
 <a align="center" href="https://www.npmjs.com/package/cea">
    <img alt="npm" src="https://img.shields.io/npm/v/cea?style=social">
    <img alt="NPM" src="https://img.shields.io/npm/l/cea?style=social">
  </a>
</p>
  <p align="center">
  <strong>é«˜æ ¡ç»Ÿä¸€èº«ä»½éªŒè¯å¼€å‘æ¡†æ¶</strong>(å·²é›†æˆä»Šæ—¥æ ¡å›­ç­¾åˆ°æ’ä»¶)
  <br>
  æ¬¢è¿ç‚¹å‡»å³ä¸Šè§’   <a href="https://github.com/ceajs/cea">
    <img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/ceajs/cea?style=social">
  </a> æ”¯æŒæ­¤é¡¹ç›®
  <p>
</p>

## äº®ç‚¹

- äº¤äº’å¼é…ç½®: `cea` æä¾›äº¤äº’å¼çš„å‘½ä»¤è¡Œå®Œæˆç”¨æˆ·åŠå­¦æ ¡çš„é…ç½®ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒä½¿ç”¨ `toml` æ–‡ä»¶æ¥é…ç½®

- éªŒè¯æŒä¹…åŒ–: ç¼“å­˜éªŒè¯ä¿¡æ¯äºå†…å­˜, åªåœ¨å¤±æ•ˆæ—¶ç™»å½•å¹¶æ›´æ–°ï¼›äº‘ç«¯å’Œæœ¬åœ°ç¼“å­˜èƒ½åŠ›æ¥æºäºæˆ‘çš„å¦ä¸€ä¸ªé¡¹ç›® [sstore](https://github.com/beetcb/sstore)

- å¤šç”¨æˆ·éé˜»å¡: åˆ©ç”¨ Node.js å¼‚æ­¥ç‰¹å¾ï¼Œå¤šç”¨æˆ·å¯å¹¶è¡Œï¼Œå®ç°æ¯«ç§’çº§çš„å¤šç”¨æˆ·åŒæ—¶æ“ä½œ

- å…³äºç­¾åˆ°æ’ä»¶: (å­¦æ ¡é…ç½®æ—¶)ä½¿ç”¨ç™¾åº¦åœ°å›¾ API è·å–å­¦æ ¡å…¨å±€ç­¾åˆ°åœ°å€, ä½¿ç”¨ä»Šæ—¥æ ¡å›­æ¥å£è¿”å›çš„ç­¾åˆ°æ•°æ®è·å–ç­¾åˆ°ç»çº¬åº¦, ç®€å•æ¥è¯´, åªéœ€çŸ¥é“å­¦æ ¡è‹±æ–‡ç®€ç§°å³å¯é…ç½®å¥½æ‰€æœ‰ç­¾åˆ°ä¿¡æ¯, å……åˆ†æ‡’äººåŒ–

- æ”¯æŒä¸€é”®éƒ¨ç½²ç­¾åˆ°ç¨‹åºï¼šä¾èµ–è‡ªåŠ¨å®‰è£…ã€è§¦å‘å™¨è‡ªåŠ¨é…ç½®ï¼Œå¯èƒ½æ˜¯å…¨ç½‘æœ€å¿«ã€é€‰æ‹©æœ€å¤šçš„éƒ¨ç½² (è¯¦è§ [éƒ¨ç½²æŒ‡å—](./docs/deploy.md))

## å‡†å¤‡å·¥ä½œ

è¯·ç¡®ä¿ Node.js å’Œ NPM åŒ…ç®¡ç†å™¨åœ¨ä½ çš„æ“ä½œç¯å¢ƒä¸­æ­£ç¡®å®‰è£…

### å…¼å®¹æ€§è¯´æ˜

ç»Ÿä¸€èº«ä»½è®¤è¯åœ°å€åŒ…å« `iap`ï¼ˆè¡¨ç¤ºå·²æ¥å…¥ä»Šæ—¥æ ¡å›­ï¼‰ å­—æ®µçš„å®ç°æ˜¯ç»Ÿä¸€çš„ï¼Œåº”è¯¥æ²¡æœ‰å…¼å®¹æ€§é—®é¢˜

è‹¥æœªæ¥å…¥ä»Šæ—¥æ ¡å›­ï¼Œåªèƒ½çˆ¬å–ç½‘é¡µè·å¾—å‡­æ®ï¼šcea çš„ç™»å½•é¡µçˆ¬å–ç­–ç•¥æ¯”è¾ƒæ™ºèƒ½ï¼ˆå¹¶é `hard coded`ï¼‰ï¼Œé»˜è®¤æ ¹æ®ç¬¬ä¸€ä¸ªç™»å½•è¡¨å•å®Œæˆå…¨éƒ¨é€»è¾‘ï¼Œè¿™ä¿è¯äº†ä¸é”™çš„å…¼å®¹æ€§

å¦‚ç¡®å®é‡åˆ°äº†è¾¹ç¼˜æƒ…å†µï¼Œæœ‰èƒ½åŠ›çš„è¯å¯ä»¥æäº¤ PR ï¼Œåªéœ€ä¿®æ”¹ `./core/src/compatibility/edge-case.ts` æ–‡ä»¶ï¼Œæ·»åŠ ä½ çš„å­¦æ ¡ï¼š

```diff
const schoolEdgeCases = {
+  å­¦æ ¡ä¸­æ–‡å…¨ç§°: {
+    formIdx: 2, // é»˜è®¤è´¦å·å¯†ç ç™»å½•è¡¨å•çš„ç´¢å¼•ï¼Œä½ éœ€è¦æ‰‹åŠ¨æŸ¥çœ‹ HTML ç»“æ„æ¥ç¡®å®š
+    checkCaptchaPath: '/getCaptcha.htl', // æ£€æµ‹æ˜¯å¦éœ€è¦éªŒè¯ç çš„è·¯å¾„
+    getCaptchaPath: '/checkNeedCaptcha.htl', // è·å–éªŒè¯ç çš„è·¯å¾„
+    cookiePath: '/authserver', // Cookie è·¯å¾„
+    pwdEncrypt: true, // å¯†ç æ˜¯å¦åŠ å¯†ï¼Œé»˜è®¤ true
+    rememberMe: true, // [è¿™ä¸€é¡¹ä¸ä¼šå½±å“ç™»å½•ç»“æœ]å‹¾é€‰*å¤©å…ç™»å½•åçš„å€¼ï¼Œæœ‰äº›å­¦æ ¡å¯èƒ½æ˜¯ä¸åŒçš„å­—ç¬¦ï¼Œé»˜è®¤ä¸º trueï¼Œä½ éœ€è¦æ‰‹åŠ¨æŸ¥çœ‹ç™»å½•è¯·æ±‚æ¥ç¡®å®š
+  },
}
```

è‹¥ä½ ä¸ç†Ÿæ‚‰ Node.jsï¼Œé‡åˆ°ç™»å½•é—®é¢˜ï¼Œè¯·é™„å¸¦æ—¥å¿—æäº¤ [Issue](https://github.com/beetcb/cea/issues/new/choose)

## å¼€å§‹ä½¿ç”¨

### ä½œä¸ºå‘½ä»¤è¡Œä½¿ç”¨

1. å®‰è£…

   ```bash
   npm i -g cea
   ```

2. é…ç½®ç”¨æˆ·

   ```bash
   # ä½¿ç”¨äº¤äº’å¼å‘½ä»¤è¡Œé…ç½®
   cea user
   # ä½¿ç”¨é…ç½®æ–‡ä»¶ ./conf.toml åŠ è½½ç”¨æˆ·
   cea load
   ```

   [é…ç½®æ–‡ä»¶è¯´æ˜](./docs/config.md)

3. æ‰§è¡Œç­¾åˆ°

   ```bash
   cea sign
   ```

4. æŸ¥çœ‹ cea çš„å…¶å®ƒèƒ½åŠ›

   ```bash
   cea -h
   ```

### ä½œä¸ºæ¨¡å—ä½¿ç”¨

> åŸºæœ¬æµç¨‹ï¼šå¼•å…¥ cea å’Œå¯¹åº”æ’ä»¶ -> åˆ›å»º cea å®ä¾‹ -> æ³¨å†Œæ’ä»¶ -> è¿è¡Œ

ä¸‹é¢æ˜¯ä»Šæ—¥æ ¡å›­ç­¾åˆ°çš„ç¤ºä¾‹ï¼ˆ`cea-check-in` æ’ä»¶å·²å†…ç½®ï¼Œæ— éœ€ç‰¹åˆ«å®‰è£…ï¼‰

```ts
// å¯¼å…¥ Cea å’Œå†…ç½®çš„ç­¾åˆ°æ’ä»¶ä¸­çš„å‡½æ•° checkIn
import { Cea, checkIn } from 'cea'
// åˆ›å»º Cea çš„å®ä¾‹
const cea = new Cea()
// æ³¨å†Œæ’ä»¶
cea.addPlugin(checkIn)
// æ‰§è¡Œç­¾åˆ°è„šæœ¬
cea.start()
```

## æ’ä»¶åˆ—è¡¨

- [`cea-check-in`](./docs/api/plugins/check-in/README.md)

## æ’ä»¶å¼€å‘

> æ’ä»¶å¼€å‘æµç¨‹ï¼šå¼•å…¥ cea-core çš„åŠŸèƒ½ -> å¼€å‘åŠŸèƒ½ -> å¯¼å‡ºä¸€ä¸ªæ— å…¥å‚å‡ºå‚çš„å‡½æ•°

æ’ä»¶æ ¸å¿ƒ `cea-core` [docs/api/core/README.md](./docs/api/core/README.md)

æ’ä»¶ç¤ºä¾‹ `cea-check-in` [docs/api/plugins/check-in/README.md](./docs/api/plugins/check-in/README.md)

## é¸£è°¢

æ„Ÿè°¢ [Cloudbase-Framework](https://github.com/Tencent/cloudbase-framework)ã€[Github Actions](https://github.com/actions)ã€[Coding CI](https://help.coding.net/docs/ci/intro.html)ã€[Gitee Pages](https://gitee.com/help/articles/4136) æä¾›çš„ä¼˜ç§€æœåŠ¡ ğŸ‰

## å£°æ˜

`cea` - Licensed under [MIT](https://github.com/ceajs/cea/blob/master/LICENSE)

`campusphere-elegant-auth` ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ Node.jsï¼Œè¯·å‹¿å•†ç”¨æˆ–è¿æ³•ä½¿ç”¨ã€‚

> ä½œè€…: [<img src="https://img.shields.io/github/followers/beetcb?label=%40beetcb&style=social">](https://github.com/beetcb), é‚®ç®±: `i@beetcb.com`
